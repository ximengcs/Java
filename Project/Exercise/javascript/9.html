<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Insert title here</title>

<style type="text/css">
input {
	height:30px;
	width:80px;
}
tr {
	background-color:silver;
}
</style>

<script language = "javascript">

 	function MyClick() {
		
		// 是不是上一个计算 
		var isNext = false;
		var saveNum = 0;
		var sign;

		this.taget;
		
		this.count = function( key ) {
			
			if( key >= "0" && key <= "9" ) {
				// 判断是否是新计算
				if( isNext ) {
					this.taget.value = key;
				} else {
					this.taget.value = parseInt( this.taget.value+key, 10 ); 
				}
				
				isNext = false;
			} else if( key == "+" || key == "-" || key == "*" || key == "/" || key == "power" ){
				saveNum = parseInt( this.taget.value );
				sign = key;
				isNext = true;
			} else if( key == "=" ) {
				if( sign == "+" )
					this.taget.value = saveNum + parseInt( this.taget.value ) ;
				else if( sign == "-" )
					this.taget.value = saveNum - parseInt( this.taget.value );
				else if( sign == "*" )
					this.taget.value = saveNum * parseInt( this.taget.value );
				else if( sign == "/" )
					this.taget.value = saveNum / parseInt( this.taget.value );
				else if( sign == "power" )
					this.taget.value = Math.pow( saveNum, parseInt( this.taget.value ) );
				isNext = true;
			} else if( key == "back" ) {
				if( this.taget.value == "0" ) 
					return;
				if( this.taget.value > 0 && this.taget.value <= 9 )
					this.taget.value = 0;
				else
					this.taget.value = this.taget.value.substring( 0, this.taget.value.length-1 );
			} else if( key == "clear" ) {
				this.taget.value = 0;
				saveNum = 0;
				sign = null;
				isNext = true;
			}
		}
	}
	
	var instance = new MyClick(); 
	
	function load() {
		instance.taget = document.getElementById( "result" );
	}
</script>

</head>
<body onload = "load()">
<table border="2px" height="400px" width = "800px" align = "center">

	<tr align = "center">
		<td colspan="4" bgcolor="blue"><input id = "result" type = "text" value = "0" style = "height:50px;width:500px;padding:3px;font-size:50px;"/></td>
	</tr>
	
	<tr align = "center">
		<td><input type = "button" value = "Power" onclick = "instance.count('power')"/></td> 
		<td><input type = "button" value = "Clear" onclick = "instance.count('clear')"/></td> 
		<td><input type = "button" value = "Back" onclick = "instance.count('back')"/></td> 
		<td>&nbsp;</td>
	</tr>
	
	<tr align = "center">
		<td><input type = "button" value = "1" onclick = "instance.count('1')"/></td> 
		<td><input type = "button" value = "2" onclick = "instance.count('2')"/></td>
		<td><input type = "button" value = "3" onclick = "instance.count('3')"/></td> 
		<td><input type = "button" value = "4" onclick = "instance.count('4')"/></td>
	</tr>
	
	<tr align = "center">
		<td><input type = "button" value = "5" onclick = "instance.count('5')"/></td> 
		<td><input type = "button" value = "6" onclick = "instance.count('6')"/></td>
		<td><input type = "button" value = "7" onclick = "instance.count('7')"/></td> 
		<td><input type = "button" value = "8" onclick = "instance.count('8')"/></td>
	</tr>
	
	<tr align = "center">
		<td><input type = "button" value = "9" onclick = "instance.count('9')"/></td> 
		<td><input type = "button" value = "0" onclick = "instance.count('0')"/></td>
		<td><input type = "button" value = "." onclick = "instance.count('.')"/></td> 
		<td><input type = "button" value = "=" onclick = "instance.count('=')"/></td>
	</tr>
	
	<tr align = "center">
		<td><input type = "button" value = "+" onclick = "instance.count('+')"/></td> 
		<td><input type = "button" value = "-" onclick = "instance.count('-')"/></td>
		<td><input type = "button" value = "*" onclick = "instance.count('*')"/></td> 
		<td><input type = "button" value = "/" onclick = "instance.count('/')"/></td>
	</tr>
	
</table>
</body>
</html>